(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{720:function(v,_,t){"use strict";t.r(_);var s=t(2),a=Object(s.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[t("img",{attrs:{src:"https://img.starfish.ink/common/faq-banner.png",alt:""}})]),v._v(" "),t("blockquote",[t("p",[v._v("Linux 面试题通常会考察你对操作系统的理解，尤其是在系统管理、性能调优、文件系统、进程管理、网络配置、安全性等方面的知识。以下是一些常见的 Linux 面试题知识点和常见面试题的总结。")])]),v._v(" "),t("h2",{attrs:{id:"一、linux-知识点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、linux-知识点"}},[v._v("#")]),v._v(" 一、Linux 知识点")]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("文件系统")]),v._v("：Linux 文件系统采用树形结构，从根目录 "),t("code",[v._v("/")]),v._v(" 开始，并向下分支到各个子目录，如 "),t("code",[v._v("/home")]),v._v("、"),t("code",[v._v("/etc")]),v._v("、"),t("code",[v._v("/usr")]),v._v(" 等。")]),v._v(" "),t("li",[t("strong",[v._v("权限管理")]),v._v("：文件权限、修改权限和所有者。")]),v._v(" "),t("li",[t("strong",[v._v("网络管理")]),v._v("：查看网络配置和网络排障工具。")]),v._v(" "),t("li",[t("strong",[v._v("系统安全")]),v._v("：如何查看系统日志、检查系统资源使用情况、配置静态 IP、创建和管理用户、查看和管理服务、设置定时任务、检测和修复文件系统错误、压缩和解压文件、查看和设置环境变量、查找文件和目录、监控系统性能等。")])]),v._v(" "),t("h3",{attrs:{id:"_1-linux-基础知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux-基础知识"}},[v._v("#")]),v._v(" "),t("strong",[v._v("1. Linux 基础知识")])]),v._v(" "),t("p",[t("strong",[v._v("操作系统概述")])]),v._v(" "),t("ul",[t("li",[v._v("Linux 是一个开放源代码的操作系统内核，最初由 Linus Torvalds 开发。它采用了类 Unix 的设计理念。")]),v._v(" "),t("li",[v._v("常见的 Linux 发行版包括 Ubuntu、CentOS、Fedora、Debian、Arch Linux 等。")]),v._v(" "),t("li",[t("strong",[v._v("Linux 的文件结构和根目录结构")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("/")]),v._v(": 根目录，所有文件的起点。")]),v._v(" "),t("li",[t("code",[v._v("/home")]),v._v(": 用户目录。")]),v._v(" "),t("li",[t("code",[v._v("/etc")]),v._v(": 配置文件目录。")]),v._v(" "),t("li",[t("code",[v._v("/var")]),v._v(": 可变数据，如日志文件。")]),v._v(" "),t("li",[t("code",[v._v("/tmp")]),v._v(": 临时文件。")]),v._v(" "),t("li",[t("code",[v._v("/bin")]),v._v(": 二进制可执行文件。")]),v._v(" "),t("li",[t("code",[v._v("/lib")]),v._v(": 库文件。")])])])]),v._v(" "),t("p",[t("strong",[v._v("Linux 用户与权限")])]),v._v(" "),t("ul",[t("li",[v._v("Linux 的用户与组管理\n"),t("ul",[t("li",[t("code",[v._v("useradd")]),v._v("、"),t("code",[v._v("usermod")]),v._v("、"),t("code",[v._v("userdel")]),v._v(" 等命令用于管理用户。")]),v._v(" "),t("li",[t("code",[v._v("groupadd")]),v._v("、"),t("code",[v._v("groupdel")]),v._v("、"),t("code",[v._v("groupmod")]),v._v(" 用于管理用户组。")]),v._v(" "),t("li",[t("strong",[v._v("文件权限")]),v._v(": "),t("code",[v._v("rwx")]),v._v(" 权限设置（读取、写入、执行），用 "),t("code",[v._v("chmod")]),v._v(" 更改权限。")])])]),v._v(" "),t("li",[v._v("文件权限与属主\n"),t("ul",[t("li",[t("code",[v._v("ls -l")]),v._v(" 命令显示文件详细信息，包括权限、属主和属组。")]),v._v(" "),t("li",[v._v("文件权限："),t("code",[v._v("r")]),v._v(" (读), "),t("code",[v._v("w")]),v._v(" (写), "),t("code",[v._v("x")]),v._v(" (执行)。")])])])]),v._v(" "),t("p",[t("strong",[v._v("常用命令")])]),v._v(" "),t("ul",[t("li",[v._v("文件管理命令："),t("code",[v._v("ls")]),v._v(", "),t("code",[v._v("cp")]),v._v(", "),t("code",[v._v("mv")]),v._v(", "),t("code",[v._v("rm")]),v._v(", "),t("code",[v._v("mkdir")]),v._v(", "),t("code",[v._v("rmdir")]),v._v(", "),t("code",[v._v("find")]),v._v(", "),t("code",[v._v("locate")]),v._v(", "),t("code",[v._v("which")]),v._v("。")]),v._v(" "),t("li",[v._v("系统管理命令："),t("code",[v._v("top")]),v._v(", "),t("code",[v._v("ps")]),v._v(", "),t("code",[v._v("kill")]),v._v(", "),t("code",[v._v("htop")]),v._v(", "),t("code",[v._v("df")]),v._v(", "),t("code",[v._v("du")]),v._v(", "),t("code",[v._v("free")]),v._v(", "),t("code",[v._v("uptime")]),v._v(", "),t("code",[v._v("dmesg")]),v._v("。")]),v._v(" "),t("li",[v._v("文件权限与用户命令："),t("code",[v._v("chmod")]),v._v(", "),t("code",[v._v("chown")]),v._v(", "),t("code",[v._v("chgrp")]),v._v(", "),t("code",[v._v("passwd")]),v._v(", "),t("code",[v._v("id")]),v._v(", "),t("code",[v._v("groups")]),v._v("。")]),v._v(" "),t("li",[v._v("查看和编辑文件命令："),t("code",[v._v("cat")]),v._v(", "),t("code",[v._v("less")]),v._v(", "),t("code",[v._v("more")]),v._v(", "),t("code",[v._v("grep")]),v._v(", "),t("code",[v._v("vim")]),v._v(", "),t("code",[v._v("nano")]),v._v("。")])]),v._v(" "),t("h3",{attrs:{id:"_2-进程管理与调度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-进程管理与调度"}},[v._v("#")]),v._v(" 2. 进程管理与调度")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("进程与线程的区别")]),v._v(" "),t("ul",[t("li",[v._v("进程是操作系统进行资源分配和调度的基本单位。")]),v._v(" "),t("li",[v._v("线程是进程中的执行单元，线程共享进程的资源。")])])]),v._v(" "),t("li",[t("p",[v._v("常见进程命令")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("ps")]),v._v(": 查看当前进程状态。")]),v._v(" "),t("li",[t("code",[v._v("top")]),v._v(": 动态查看进程和系统状态。")]),v._v(" "),t("li",[t("code",[v._v("kill")]),v._v(": 终止进程。")]),v._v(" "),t("li",[t("code",[v._v("nice")]),v._v("/"),t("code",[v._v("renice")]),v._v(": 设置进程的优先级。")]),v._v(" "),t("li",[t("code",[v._v("bg")]),v._v(", "),t("code",[v._v("fg")]),v._v(", "),t("code",[v._v("jobs")]),v._v(": 后台与前台进程管理。")])])]),v._v(" "),t("li",[t("p",[v._v("常见的进程状态：")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("R")]),v._v(": 运行中。")]),v._v(" "),t("li",[t("code",[v._v("S")]),v._v(": 睡眠状态。")]),v._v(" "),t("li",[t("code",[v._v("Z")]),v._v(": 僵尸状态。")]),v._v(" "),t("li",[t("code",[v._v("T")]),v._v(": 停止状态。")])])])]),v._v(" "),t("p",[t("strong",[v._v("进程调度")])]),v._v(" "),t("ul",[t("li",[v._v("Linux 调度策略：\n"),t("ul",[t("li",[v._v("Linux 使用 CFS（Completely Fair Scheduler）作为默认调度器。")]),v._v(" "),t("li",[v._v("调度器通过 "),t("code",[v._v("nice")]),v._v(" 值来调整进程优先级。")])])])]),v._v(" "),t("h3",{attrs:{id:"_3-内存管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-内存管理"}},[v._v("#")]),v._v(" 3. 内存管理")]),v._v(" "),t("p",[t("strong",[v._v("虚拟内存")])]),v._v(" "),t("ul",[t("li",[v._v("分页与分段：\n"),t("ul",[t("li",[v._v("Linux 采用分页机制来管理内存，不使用分段。")]),v._v(" "),t("li",[v._v("页表用于虚拟地址到物理地址的映射。")])])])]),v._v(" "),t("p",[t("strong",[v._v("内存管理命令")])]),v._v(" "),t("ul",[t("li",[t("code",[v._v("free")]),v._v(": 查看内存使用情况。")]),v._v(" "),t("li",[t("code",[v._v("vmstat")]),v._v(": 查看虚拟内存统计。")]),v._v(" "),t("li",[t("code",[v._v("top")]),v._v(": 查看进程和内存使用情况。")])]),v._v(" "),t("p",[t("strong",[v._v("交换空间")])]),v._v(" "),t("ul",[t("li",[v._v("Swap 分区和 Swap 文件：\n"),t("ul",[t("li",[v._v("当物理内存不足时，Linux 使用交换空间（Swap）来存储不常用的内存页面。")]),v._v(" "),t("li",[t("code",[v._v("swapon")]),v._v(" / "),t("code",[v._v("swapoff")]),v._v("：启用/禁用交换空间。")])])])]),v._v(" "),t("h3",{attrs:{id:"_4-文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-文件系统"}},[v._v("#")]),v._v(" 4. 文件系统")]),v._v(" "),t("p",[t("strong",[v._v("文件系统类型")])]),v._v(" "),t("ul",[t("li",[v._v("常见文件系统：\n"),t("ul",[t("li",[v._v("ext4: 常用的 Linux 文件系统。")]),v._v(" "),t("li",[v._v("xfs: 高性能文件系统。")]),v._v(" "),t("li",[v._v("btrfs: 新一代文件系统，支持快照和子卷。")])])])]),v._v(" "),t("p",[t("strong",[v._v("挂载与卸载")])]),v._v(" "),t("ul",[t("li",[t("code",[v._v("mount")]),v._v(": 挂载文件系统。")]),v._v(" "),t("li",[t("code",[v._v("umount")]),v._v(": 卸载文件系统。")]),v._v(" "),t("li",[t("code",[v._v("fstab")]),v._v(": 配置文件，定义了系统启动时自动挂载的文件系统。")])]),v._v(" "),t("p",[t("strong",[v._v("文件系统命令")])]),v._v(" "),t("ul",[t("li",[t("code",[v._v("df")]),v._v(": 查看磁盘空间使用情况。")]),v._v(" "),t("li",[t("code",[v._v("du")]),v._v(": 查看磁盘使用的目录空间。")]),v._v(" "),t("li",[t("code",[v._v("fsck")]),v._v(": 检查文件系统的完整性。")])]),v._v(" "),t("h3",{attrs:{id:"_5-网络管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-网络管理"}},[v._v("#")]),v._v(" 5. 网络管理")]),v._v(" "),t("p",[t("strong",[v._v("网络配置")])]),v._v(" "),t("ul",[t("li",[v._v("配置文件：\n"),t("ul",[t("li",[t("code",[v._v("/etc/network/interfaces")]),v._v("（Debian/Ubuntu 系统）。")]),v._v(" "),t("li",[t("code",[v._v("/etc/sysconfig/network-scripts/")]),v._v("（CentOS/RHEL 系统）。")])])])]),v._v(" "),t("p",[t("strong",[v._v("常用网络命令")])]),v._v(" "),t("ul",[t("li",[t("code",[v._v("ip addr")]),v._v(": 查看或配置 IP 地址。")]),v._v(" "),t("li",[t("code",[v._v("ping")]),v._v(": 测试网络连通性。")]),v._v(" "),t("li",[t("code",[v._v("netstat")]),v._v(": 查看网络连接和端口状态。")]),v._v(" "),t("li",[t("code",[v._v("ss")]),v._v(": 查看套接字状态。")]),v._v(" "),t("li",[t("code",[v._v("ifconfig")]),v._v(": 网络接口配置（已逐渐被 "),t("code",[v._v("ip")]),v._v(" 命令取代）。")]),v._v(" "),t("li",[t("code",[v._v("traceroute")]),v._v(": 路由跟踪。")]),v._v(" "),t("li",[t("code",[v._v("curl")]),v._v("/"),t("code",[v._v("wget")]),v._v(": 下载文件。")])]),v._v(" "),t("p",[t("strong",[v._v("网络工具")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("iptables")]),v._v(": 配置防火墙。")]),v._v(" "),t("li",[t("strong",[v._v("firewalld")]),v._v(": 动态防火墙管理工具。")]),v._v(" "),t("li",[t("strong",[v._v("nmap")]),v._v(": 网络扫描工具。")])]),v._v(" "),t("h3",{attrs:{id:"_6-系统性能调优"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-系统性能调优"}},[v._v("#")]),v._v(" 6. 系统性能调优")]),v._v(" "),t("p",[t("strong",[v._v("系统监控工具")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("top/htop")]),v._v("：实时查看系统资源使用情况。")]),v._v(" "),t("li",[t("strong",[v._v("iotop")]),v._v("：实时查看磁盘 IO。")]),v._v(" "),t("li",[t("strong",[v._v("atop")]),v._v("：高级的系统和进程监控工具。")])]),v._v(" "),t("p",[t("strong",[v._v("优化技巧")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("内存管理")]),v._v("：\n"),t("ul",[t("li",[v._v("使用 "),t("code",[v._v("vmstat")]),v._v("、"),t("code",[v._v("free")]),v._v(" 查看内存使用情况。")]),v._v(" "),t("li",[v._v("调整 "),t("code",[v._v("swappiness")]),v._v(" 参数，优化交换空间的使用。")])])]),v._v(" "),t("li",[t("strong",[v._v("磁盘性能")]),v._v("：\n"),t("ul",[t("li",[v._v("使用 "),t("code",[v._v("iostat")]),v._v(" 监控磁盘性能。")]),v._v(" "),t("li",[v._v("优化磁盘 I/O 性能。")])])]),v._v(" "),t("li",[t("strong",[v._v("网络优化")]),v._v("：\n"),t("ul",[t("li",[v._v("使用 "),t("code",[v._v("sysctl")]),v._v(" 配置内核参数（例如调节 "),t("code",[v._v("tcp_rmem")]),v._v("、"),t("code",[v._v("tcp_wmem")]),v._v("）。")])])])]),v._v(" "),t("h3",{attrs:{id:"_7-安全与用户管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-安全与用户管理"}},[v._v("#")]),v._v(" 7. 安全与用户管理")]),v._v(" "),t("p",[t("strong",[v._v("SELinux 和 AppArmor")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("SELinux")]),v._v("（Security-Enhanced Linux）和 "),t("strong",[v._v("AppArmor")]),v._v(" 是两种内核级别的安全模块，用于增强系统的安全性。")])]),v._v(" "),t("p",[t("strong",[v._v("防火墙")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("iptables")]),v._v(" 和 "),t("strong",[v._v("firewalld")]),v._v(" 用于配置防火墙规则，控制网络访问。")])]),v._v(" "),t("p",[t("strong",[v._v("用户与组管理")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("sudo")]),v._v("：控制用户的特权。")]),v._v(" "),t("li",[t("strong",[v._v("passwd")]),v._v("：修改用户密码。")]),v._v(" "),t("li",[t("strong",[v._v("groupadd")]),v._v("、"),t("strong",[v._v("useradd")]),v._v("：添加用户和用户组。")])]),v._v(" "),t("h2",{attrs:{id:"二、常见面试题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、常见面试题"}},[v._v("#")]),v._v(" 二、常见面试题")]),v._v(" "),t("h3",{attrs:{id:"linux-中如何查看系统资源的使用情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-中如何查看系统资源的使用情况"}},[v._v("#")]),v._v(" Linux 中如何查看系统资源的使用情况？")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("top")]),v._v(", "),t("code",[v._v("free")]),v._v(", "),t("code",[v._v("df")]),v._v(", "),t("code",[v._v("du")]),v._v(", "),t("code",[v._v("ps")]),v._v(", "),t("code",[v._v("vmstat")]),v._v(", "),t("code",[v._v("iotop")]),v._v("。")])]),v._v(" "),t("h3",{attrs:{id:"如何查找一个文件并搜索文件内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何查找一个文件并搜索文件内容"}},[v._v("#")]),v._v(" 如何查找一个文件并搜索文件内容？")]),v._v(" "),t("ul",[t("li",[t("code",[v._v('find /path/to/search -name "filename"')]),v._v(" 查找文件。")]),v._v(" "),t("li",[t("code",[v._v('grep "pattern" file')]),v._v(" 搜索文件内容。")])]),v._v(" "),t("h3",{attrs:{id:"如何查看进程使用的内存和-cpu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何查看进程使用的内存和-cpu"}},[v._v("#")]),v._v(" 如何查看进程使用的内存和 CPU？")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("top")]),v._v(" 或 "),t("code",[v._v("ps aux")]),v._v("。")])]),v._v(" "),t("h3",{attrs:{id:"如何查看和设置文件权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何查看和设置文件权限"}},[v._v("#")]),v._v(" 如何查看和设置文件权限？")]),v._v(" "),t("ul",[t("li",[t("code",[v._v("ls -l")]),v._v(" 查看文件权限。")]),v._v(" "),t("li",[t("code",[v._v("chmod")]),v._v(" 修改权限，"),t("code",[v._v("chown")]),v._v(" 修改文件属主。")])]),v._v(" "),t("h3",{attrs:{id:"如何管理磁盘空间和挂载文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何管理磁盘空间和挂载文件系统"}},[v._v("#")]),v._v(" 如何管理磁盘空间和挂载文件系统？")]),v._v(" "),t("ul",[t("li",[v._v("使用 "),t("code",[v._v("df")]),v._v("、"),t("code",[v._v("du")]),v._v("、"),t("code",[v._v("mount")]),v._v("、"),t("code",[v._v("umount")]),v._v(" 等命令。")])]),v._v(" "),t("h3",{attrs:{id:"什么是僵尸进程-如何处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是僵尸进程-如何处理"}},[v._v("#")]),v._v(" 什么是僵尸进程？如何处理？")]),v._v(" "),t("ul",[t("li",[v._v("僵尸进程是已终止但父进程尚未收集其退出状态的进程。通过 "),t("code",[v._v("kill")]),v._v(" 或者让父进程调用 "),t("code",[v._v("wait()")]),v._v(" 来清理。")])]),v._v(" "),t("h3",{attrs:{id:"如何管理系统日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何管理系统日志"}},[v._v("#")]),v._v(" "),t("strong",[v._v("如何管理系统日志？")])]),v._v(" "),t("ul",[t("li",[v._v("系统日志存放在 "),t("code",[v._v("/var/log")]),v._v(" 中，可以使用 "),t("code",[v._v("tail -f /var/log/syslog")]),v._v(" 实时查看日志。")])]),v._v(" "),t("h3",{attrs:{id:"如何禁用-selinux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何禁用-selinux"}},[v._v("#")]),v._v(" "),t("strong",[v._v("如何禁用 SELinux？")])]),v._v(" "),t("ul",[t("li",[v._v("修改 "),t("code",[v._v("/etc/selinux/config")]),v._v(" 文件，设置 "),t("code",[v._v("SELINUX=disabled")]),v._v("。")])]),v._v(" "),t("h3",{attrs:{id:"怎么查找定位到第10行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么查找定位到第10行"}},[v._v("#")]),v._v(" 怎么查找定位到第10行？")]),v._v(" "),t("p",[v._v("要查找并定位文件的第10行，你可以使用多种命令和方法，具体取决于你使用的工具和目的。以下是一些常见的方法：")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("使用 "),t("code",[v._v("sed")]),v._v(" 命令")]),v._v(" "),t("p",[t("code",[v._v("sed")]),v._v(" 是一个流编辑器，可以用于按行处理文件。")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sed")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-n")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v("'10p'")]),v._v(" filename\n")])])]),t("ul",[t("li",[t("p",[t("code",[v._v("-n")]),v._v(": 禁止默认输出。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("'10p'")]),v._v(": 表示输出文件中的第 10 行。")])])])]),v._v(" "),t("li",[t("p",[v._v("使用 "),t("code",[v._v("head")]),v._v(" 和 "),t("code",[v._v("tail")]),v._v(" 命令")]),v._v(" "),t("p",[v._v("你可以组合使用 "),t("code",[v._v("head")]),v._v(" 和 "),t("code",[v._v("tail")]),v._v(" 命令来显示特定行。")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("head")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-n")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("10")]),v._v(" filename "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("|")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("tail")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-n")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("1")]),v._v("\n")])])]),t("ul",[t("li",[t("p",[t("code",[v._v("head -n 10")]),v._v(": 显示文件的前 10 行。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("tail -n 1")]),v._v(": 从 "),t("code",[v._v("head")]),v._v(" 输出的内容中显示最后一行，即第 10 行。")])])])]),v._v(" "),t("li",[t("p",[v._v("使用 "),t("code",[v._v("awk")]),v._v(" 命令")]),v._v(" "),t("p",[t("code",[v._v("awk")]),v._v(" 是一个强大的文本处理工具，适用于基于模式的行操作。")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("awk")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v("'NR==10'")]),v._v(" filename\n")])])]),t("ul",[t("li",[t("code",[v._v("NR==10")]),v._v(": "),t("code",[v._v("NR")]),v._v(" 是 "),t("code",[v._v("awk")]),v._v(" 内部的行号变量，这个命令会输出第 10 行。")])])])]),v._v(" "),t("h3",{attrs:{id:"cpu使用率怎么看-内存使用情况怎们看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cpu使用率怎么看-内存使用情况怎们看"}},[v._v("#")]),v._v(" cpu使用率怎么看? 内存使用情况怎们看?")]),v._v(" "),t("ul",[t("li",[t("p",[t("code",[v._v("top")]),v._v(" 是一个实时的系统监控工具，可以显示 CPU 使用率以及其他系统资源的使用情况。")])]),v._v(" "),t("li",[t("p",[t("code",[v._v("vmstat")]),v._v(" 提供了 CPU、内存、交换空间、I/O 等的统计信息。")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("vmstat")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("1")]),v._v("\n")])])]),t("p",[v._v("表示每隔 1 秒输出一次系统统计信息。输出会显示 CPU 使用情况，其中包括：")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("r")]),v._v(": 就绪队列中的进程数。")]),v._v(" "),t("li",[t("strong",[v._v("b")]),v._v(": 阻塞状态的进程数。")]),v._v(" "),t("li",[t("strong",[v._v("us")]),v._v(": 用户空间使用的 CPU 时间（以百分比表示）。")]),v._v(" "),t("li",[t("strong",[v._v("sy")]),v._v(": 内核空间使用的 CPU 时间（以百分比表示）。")]),v._v(" "),t("li",[t("strong",[v._v("id")]),v._v(": CPU 空闲时间（以百分比表示）。")])])]),v._v(" "),t("li",[t("p",[t("code",[v._v("free")]),v._v(" 是一个简单实用的命令，用于查看系统的内存使用情况。")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("free")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-h")]),v._v("\n")])])]),t("ul",[t("li",[t("code",[v._v("-h")]),v._v(" 参数使输出更加人性化，使用易读的单位（KB, MB, GB）。")])])]),v._v(" "),t("li",[t("p",[v._v("使用 "),t("code",[v._v("ps")]),v._v(" 命令查看特定进程的资源使用情况")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("ps")]),v._v(" aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("|")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("grep")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("<")]),v._v("process_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(">")]),v._v("\n")])])])])]),v._v(" "),t("h3",{attrs:{id:"绝对路径用什么符号表示-当前目录、上层目录用什么表示-主目录用什么表示-切换目录用什么命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#绝对路径用什么符号表示-当前目录、上层目录用什么表示-主目录用什么表示-切换目录用什么命令"}},[v._v("#")]),v._v(" 绝对路径用什么符号表示？当前目录、上层目录用什么表示？主目录用什么表示? 切换目录用什么命令？")]),v._v(" "),t("ul",[t("li",[v._v("绝对路径： 如/etc/init.d")]),v._v(" "),t("li",[v._v("当前目录和上层目录：./ …/")]),v._v(" "),t("li",[v._v("主目录： ~/")]),v._v(" "),t("li",[v._v("切换目录：cd")])]),v._v(" "),t("h3",{attrs:{id:"怎么查看当前进程-怎么执行退出-怎么查看当前路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么查看当前进程-怎么执行退出-怎么查看当前路径"}},[v._v("#")]),v._v(" 怎么查看当前进程？怎么执行退出？怎么查看当前路径？")]),v._v(" "),t("ul",[t("li",[v._v("查看当前进程：ps")]),v._v(" "),t("li",[v._v("执行退出：exit")]),v._v(" "),t("li",[v._v("查看当前路径：pwd")])]),v._v(" "),t("h3",{attrs:{id:"怎么清屏-怎么退出当前命令-怎么执行睡眠-怎么查看当前用户-id-查看指定帮助用什么命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#怎么清屏-怎么退出当前命令-怎么执行睡眠-怎么查看当前用户-id-查看指定帮助用什么命令"}},[v._v("#")]),v._v(" 怎么清屏？怎么退出当前命令？怎么执行睡眠？怎么查看当前用户 id？查看指定帮助用什么命令？")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("清屏：clear")])]),v._v(" "),t("li",[t("p",[v._v("退出当前命令：ctrl+c 彻底退出")])]),v._v(" "),t("li",[t("p",[v._v("执行睡眠 ：ctrl+z挂起当前进程 fg恢复后台查看当前用户id：”id“：查看显示目前登陆账户的uid和gid及所属分组及用户名")])]),v._v(" "),t("li",[t("p",[v._v("查看指定帮助：如man adduser这个很全 而且有例子；adduser–help这个告诉你一些常用参数；info adduesr；")])])]),v._v(" "),t("h3",{attrs:{id:"ls命令执行什么功能-可以带哪些参数-有什么区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ls命令执行什么功能-可以带哪些参数-有什么区别"}},[v._v("#")]),v._v(" Ls命令执行什么功能？ 可以带哪些参数，有什么区别？")]),v._v(" "),t("p",[t("code",[v._v("ls")]),v._v("（"),t("strong",[v._v("list")]),v._v("）是 Linux 中用来列出目录内容的基本命令，通常用于显示指定目录下的文件和文件夹。")]),v._v(" "),t("ul",[t("li",[t("strong",[t("code",[v._v("ls -a")])]),v._v("：列出所有文件，包括隐藏文件。")]),v._v(" "),t("li",[t("strong",[t("code",[v._v("ls -A")])]),v._v("：列出所有文件，但不包括 "),t("code",[v._v(".")]),v._v(" 和 "),t("code",[v._v("..")]),v._v("（当前目录和上级目录的引用）。")]),v._v(" "),t("li",[t("strong",[t("code",[v._v("ls -l")])]),v._v("：以长格式列出信息，包括文件的权限、所有者、组、大小、最后修改时间和文件名。")])]),v._v(" "),t("h3",{attrs:{id:"你平时是怎么查看日志的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#你平时是怎么查看日志的"}},[v._v("#")]),v._v(" 你平时是怎么查看日志的？")]),v._v(" "),t("p",[v._v("Linux查看日志的命令有多种：tail、cat、tac、head、echo等，只介绍几种常用的方法。")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("tail  最常用的一种查看方式")]),v._v(" "),t("p",[v._v("一般还会配合着grep搜索用，例如;")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("tail -fn 1000 test.log | grep '关键字'\n")])])])]),v._v(" "),t("li",[t("p",[v._v("head   跟tail是相反的head是看前多少行日志")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("head -n 10 test.log 查询日志文件中的头10行日志; head -n -10 test.log 查询日志文件除了最后10行的其他所有日志; \n")])])])]),v._v(" "),t("li",[t("p",[v._v("cat")]),v._v(" "),t("p",[v._v("cat 是由第一行到最后一行连续显示在屏幕上   一次显示整个文件：")]),v._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("$ cat filename\n")])])])]),v._v(" "),t("li",[t("p",[v._v("more")]),v._v(" "),t("p",[v._v("more命令是一个基于vi编辑器文本过滤器，它以全屏幕的方式按页显示文本文件的内容，支持vi中的关键字定位操作。more名单中内置了若干快捷键，常用的有H（获得帮助信息），Enter（向下翻滚一行），空格（向下滚动一屏），Q（退出命令）。more命令从前向后读取文件，因此在启动时就加载整个文件。")])])]),v._v(" "),t("h3",{attrs:{id:"硬链接和软链接的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#硬链接和软链接的区别"}},[v._v("#")]),v._v(" 硬链接和软链接的区别?")]),v._v(" "),t("p",[v._v("硬链接与软链接是Linux系统中两种不同的文件链接机制。")]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("硬链接")]),v._v(" "),t("ul",[t("li",[v._v("本质：是同一文件的不同别名，共享相同的inode和数据块，相当于多个指针指向同一物理文件。")]),v._v(" "),t("li",[v._v("特点：\n"),t("ul",[t("li",[v._v("所有硬链接与原文件权限、大小、修改时间等属性完全一致。")]),v._v(" "),t("li",[v._v("删除任一硬链接仅减少inode的引用计数，数据块保留至所有链接被删除。")])])]),v._v(" "),t("li",[v._v("适用场景：\n"),t("ul",[t("li",[v._v("数据备份与同步：通过硬链接节省空间，多个链接自动同步数据")]),v._v(" "),t("li",[v._v("同一文件系统内多路径访问：如多个用户共享同一配置文件")])])])])]),v._v(" "),t("li",[t("strong",[v._v("软链接（符号链接）")]),v._v(" "),t("ul",[t("li",[v._v("本质：是独立的文件，存储目标文件的路径信息，相当于快捷方式。")]),v._v(" "),t("li",[v._v("特点：\n"),t("ul",[t("li",[v._v("拥有独立的inode，文件内容为路径字符串。")]),v._v(" "),t("li",[v._v("若目标文件被删除，软链接成为“悬空链接")])])]),v._v(" "),t("li",[v._v("适用场景：\n"),t("ul",[t("li",[v._v("跨文件系统或设备：例如链接网络存储中的文件")]),v._v(" "),t("li",[v._v("快捷方式与路径管理：简化复杂路径访问，如版本切换（"),t("code",[v._v("/opt/app -> /opt/app-v2")]),v._v("。")]),v._v(" "),t("li",[t("strong",[v._v("动态指向更新")]),v._v("：通过修改软链接路径切换目标")])])])])])]),v._v(" "),t("h3",{attrs:{id:"inode是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inode是什么"}},[v._v("#")]),v._v(" inode是什么?")]),v._v(" "),t("p",[t("strong",[v._v("inode")]),v._v("（Index Node，索引节点）是Linux/类Unix文件系统中用于存储文件或目录"),t("strong",[v._v("元数据")]),v._v("（metadata）的核心数据结构。每个文件或目录在创建时都会被分配一个唯一的inode，其作用类似于文件的“身份证”，记录除文件名以外的所有属性信息，并通过指针关联文件的实际数据块。")]),v._v(" "),t("h3",{attrs:{id:"建立软链接-快捷方式-以及硬链接的命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立软链接-快捷方式-以及硬链接的命令"}},[v._v("#")]),v._v(" 建立软链接(快捷方式)，以及硬链接的命令")]),v._v(" "),t("ul",[t("li",[v._v("软链接： ln -s slink source")]),v._v(" "),t("li",[v._v("硬链接： ln link source")])]),v._v(" "),t("h3",{attrs:{id:"如何编写一个备份日志的-shell-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何编写一个备份日志的-shell-脚本"}},[v._v("#")]),v._v(" 如何编写一个备份日志的 Shell 脚本？")]),v._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[v._v("#!/bin/bash")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 备份 /var/log 目录下的 .log 文件到 /backup 目录，保留7天")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[v._v("BACKUP_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"/backup"')]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[v._v("LOG_DIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"/var/log"')]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[v._v("DATE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("date")]),v._v(" +%Y%m%d"),t("span",{pre:!0,attrs:{class:"token variable"}},[v._v(")")])]),v._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("find")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$LOG_DIR")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-name")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"*.log"')]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-exec")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("cp")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$BACKUP_DIR")]),v._v("/logs_"),t("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$DATE")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("find")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[v._v("$BACKUP_DIR")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-name")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"logs_*"')]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-mtime")]),v._v(" +7 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-exec")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("rm")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-f")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n")])])]),t("h3",{attrs:{id:"如何快速定位-cpu-100-问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何快速定位-cpu-100-问题"}},[v._v("#")]),v._v(" 如何快速定位 CPU 100% 问题？")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("定位高负载进程")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("top")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-c")]),v._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 按P排序CPU使用")]),v._v("\npidstat "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("1")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("5")]),v._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 细粒度进程统计")]),v._v("\n")])])])]),v._v(" "),t("li",[t("p",[v._v("分析线程状态")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("top")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-H")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-p")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("PID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 查看线程")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("printf")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"%x'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[v._v("\\n")]),v._v('"')]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("TID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 将线程ID转为16进制")]),v._v("\n")])])])]),v._v(" "),t("li",[t("p",[v._v("结合 jstack/gdb 查看堆栈")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[v._v("jstack "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("PID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("|")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("grep")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-A20")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("nid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# Java进程")]),v._v("\ngdb "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-p")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("PID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-ex")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"thread apply all bt"')]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-batch")]),v._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 原生进程")]),v._v("\n")])])])])]),v._v(" "),t("h3",{attrs:{id:"如何优化内存使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何优化内存使用"}},[v._v("#")]),v._v(" 如何优化内存使用？")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 清除缓存（生产环境慎用）")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("echo")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("3")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(">")]),v._v(" /proc/sys/vm/drop_caches\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 调整swappiness")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sysctl")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[v._v("vm.swappiness")]),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("10")]),v._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 透明大页禁用")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[v._v("echo")]),v._v(" never "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v(">")]),v._v(" /sys/kernel/mm/transparent_hugepage/enabled\n")])])]),t("h3",{attrs:{id:"磁盘空间满的快速处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘空间满的快速处理"}},[v._v("#")]),v._v(" 磁盘空间满的快速处理")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("定位大文件")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("du")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-h")]),v._v(" --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("1")]),v._v(" / "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[v._v("2")]),v._v(">")]),v._v("/dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("|")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("sort")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-hr")]),v._v("\n")])])])]),v._v(" "),t("li",[t("p",[v._v("清理日志文件")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("find")]),v._v(" /var/log "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-name")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[v._v('"*.log"')]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-size")]),v._v(" +100M "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-exec")]),v._v(" truncate "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-s")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[v._v("0")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n")])])])]),v._v(" "),t("li",[t("p",[v._v("处理已删除但未释放空间的文件")]),v._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[v._v("lsof")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[v._v("|")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("grep")]),v._v(" deleted   "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 查找被删除但未释放的文件")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[v._v("kill")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[v._v("-9")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("[")]),v._v("PID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("]")]),v._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("# 重启相关进程")]),v._v("\n")])])])])]),v._v(" "),t("h3",{attrs:{id:"poll-select-epoll-稍微详细的说一下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#poll-select-epoll-稍微详细的说一下"}},[v._v("#")]),v._v(" poll select epoll 稍微详细的说一下")]),v._v(" "),t("p",[v._v("在 Linux 的 I/O 多路复用设计中，"),t("strong",[v._v("select")]),v._v("、"),t("strong",[v._v("poll")]),v._v(" 和 "),t("strong",[v._v("epoll")]),v._v(" 是三种核心机制，它们在实现原理、性能特性和适用场景上有显著差异。以下从内核设计角度详细分析：")]),v._v(" "),t("p",[t("strong",[v._v("一、select：基于轮询的原始模型")])]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("数据结构")]),v._v(" "),t("ul",[t("li",[v._v("使用固定大小的位图（"),t("code",[v._v("fd_set")]),v._v("）管理文件描述符（FD），默认支持 1024 个 FD 。")]),v._v(" "),t("li",[v._v("每个 FD 对应一个 bit（如 "),t("code",[v._v("FD_SET(fd, &readfds)")]),v._v("），通过 "),t("code",[v._v("FD_ISSET")]),v._v(" 检查就绪状态 。")])])]),v._v(" "),t("li",[t("strong",[v._v("工作流程")]),v._v(" "),t("ul",[t("li",[v._v("调用 "),t("code",[v._v("select")]),v._v(" 时，内核将用户空间的 "),t("code",[v._v("fd_set")]),v._v(" 拷贝到内核空间，遍历所有 FD 检查可读/可写状态（时间复杂度 "),t("strong",[v._v("O(n)")]),v._v("）。")]),v._v(" "),t("li",[v._v("每次调用需重置 FD 集合，导致多次用户态-内核态拷贝开销 。")])])]),v._v(" "),t("li",[t("strong",[v._v("局限性")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("FD 数量限制")]),v._v("：受限于 "),t("code",[v._v("FD_SETSIZE")]),v._v("（通常 1024），无法扩展 。")]),v._v(" "),t("li",[t("strong",[v._v("性能瓶颈")]),v._v("：遍历所有 FD，高并发场景下效率低 。")])])])]),v._v(" "),t("p",[t("strong",[v._v("二、poll：链表结构的改进版")])]),v._v(" "),t("ol",[t("li",[t("p",[t("strong",[v._v("数据结构")])]),v._v(" "),t("ul",[t("li",[t("p",[v._v("使用动态链表（"),t("code",[v._v("struct pollfd")]),v._v("数组）替代位图，支持无上限的 FD 数量 。")]),v._v(" "),t("div",{staticClass:"language-C extra-class"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("struct")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[v._v("pollfd")]),v._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("{")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("int")]),v._v(" fd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 文件描述符")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("short")]),v._v(" events"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 关注的事件（如 POLLIN）")]),v._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[v._v("short")]),v._v(" revents"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[v._v("// 实际发生的事件")]),v._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(";")]),v._v("\n")])])])])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("工作流程")])]),v._v(" "),t("ul",[t("li",[v._v("类似 select，内核遍历所有 FD 检查状态（时间复杂度仍为 "),t("strong",[v._v("O(n)")]),v._v("）。")]),v._v(" "),t("li",[v._v("通过 "),t("code",[v._v("pollfd")]),v._v(" 数组传递 FD，避免重复初始化 。")])])]),v._v(" "),t("li",[t("p",[t("strong",[v._v("优化与不足")])]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("优势")]),v._v("：突破 FD 数量限制，适合中等并发场景 。")]),v._v(" "),t("li",[t("strong",[v._v("劣势")]),v._v("：大量 FD 时，遍历开销仍然显著；需频繁拷贝用户态-内核态数据 。")])])])]),v._v(" "),t("p",[t("strong",[v._v("三、epoll：事件驱动的高效模型")])]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("数据结构")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("红黑树")]),v._v("：管理所有注册的 FD（"),t("code",[v._v("epoll_ctl")]),v._v(" 添加），实现 O(log n) 的查找效率 。")]),v._v(" "),t("li",[t("strong",[v._v("就绪队列")]),v._v("：仅存储活跃 FD，"),t("code",[v._v("epoll_wait")]),v._v(" 直接返回就绪列表（时间复杂度 "),t("strong",[v._v("O(1)")]),v._v("）。")])])]),v._v(" "),t("li",[t("strong",[v._v("核心机制")]),v._v(" "),t("ul",[t("li",[v._v("注册-回调模式：\n"),t("ol",[t("li",[t("strong",[t("code",[v._v("epoll_ctl")])]),v._v("：注册 FD 及其关注事件（如 "),t("code",[v._v("EPOLLIN")]),v._v("），内核通过回调函数跟踪状态变化 。")]),v._v(" "),t("li",[t("strong",[t("code",[v._v("epoll_wait")])]),v._v("：阻塞等待就绪事件，仅返回活跃 FD 列表，无需遍历全部 FD 。")])])]),v._v(" "),t("li",[t("strong",[v._v("共享内存")]),v._v("：内核与用户空间共享就绪队列，避免数据拷贝 。")])])]),v._v(" "),t("li",[t("strong",[v._v("触发模式")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("水平触发（LT）")]),v._v("：只要 FD 可读/可写，持续通知（类似 select/poll 行为）。")]),v._v(" "),t("li",[t("strong",[v._v("边缘触发（ET）")]),v._v("：仅在 FD 状态变化时通知一次，需一次处理完所有数据（减少无效唤醒）。")])])]),v._v(" "),t("li",[t("strong",[v._v("性能优势")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("零拷贝")]),v._v("：通过 "),t("code",[v._v("mmap")]),v._v(" 共享就绪队列，减少用户态-内核态切换 。")]),v._v(" "),t("li",[t("strong",[v._v("高效回调")]),v._v("：仅关注活跃 FD，避免无效遍历，适合数万级高并发场景 。")])])])]),v._v(" "),t("p",[t("strong",[v._v("四、对比总结")])]),v._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[v._v("特性")])]),v._v(" "),t("th",[v._v("select")]),v._v(" "),t("th",[v._v("poll")]),v._v(" "),t("th",[v._v("epoll")])])]),v._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[v._v("数据结构")])]),v._v(" "),t("td",[v._v("位图（"),t("code",[v._v("fd_set")]),v._v("）")]),v._v(" "),t("td",[v._v("链表（"),t("code",[v._v("pollfd")]),v._v(" 数组）")]),v._v(" "),t("td",[v._v("红黑树+就绪队列")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("FD 数量限制")])]),v._v(" "),t("td",[v._v("1024（固定）")]),v._v(" "),t("td",[v._v("无限制")]),v._v(" "),t("td",[v._v("无限制（受系统内存限制）")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("时间复杂度")])]),v._v(" "),t("td",[v._v("O(n)")]),v._v(" "),t("td",[v._v("O(n)")]),v._v(" "),t("td",[v._v("O(1)（就绪队列）")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("数据拷贝")])]),v._v(" "),t("td",[v._v("每次调用拷贝 FD 集合")]),v._v(" "),t("td",[v._v("同 select")]),v._v(" "),t("td",[v._v("注册时拷贝一次，后续共享内存")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("触发模式")])]),v._v(" "),t("td",[v._v("仅水平触发")]),v._v(" "),t("td",[v._v("同 select")]),v._v(" "),t("td",[v._v("支持 LT 和 ET 模式")])]),v._v(" "),t("tr",[t("td",[t("strong",[v._v("适用场景")])]),v._v(" "),t("td",[v._v("低并发、兼容性要求高")]),v._v(" "),t("td",[v._v("中低并发、FD 数量较多")]),v._v(" "),t("td",[v._v("高并发（如 Web 服务器、实时系统）")])])])]),v._v(" "),t("p",[t("strong",[v._v("五、内核实现细节")])]),v._v(" "),t("ol",[t("li",[t("strong",[v._v("select 的 "),t("code",[v._v("do_select")])]),v._v(" "),t("ul",[t("li",[v._v("遍历所有 FD，调用每个 FD 的 "),t("code",[v._v("poll")]),v._v(" 方法检查状态（如 socket 的 "),t("code",[v._v("tcp_poll")]),v._v("）。")]),v._v(" "),t("li",[v._v("若无就绪 FD，进程进入睡眠，被唤醒后重新遍历 。")])])]),v._v(" "),t("li",[t("strong",[v._v("epoll 的回调机制")]),v._v(" "),t("ul",[t("li",[v._v("每个 FD 注册时绑定回调函数（如 "),t("code",[v._v("ep_ptable_queue_proc")]),v._v("），状态变化时触发回调，将 FD 加入就绪队列 。")]),v._v(" "),t("li",[v._v("就绪队列通过 "),t("code",[v._v("ep_item_poll")]),v._v(" 关联到红黑树节点 。")])])]),v._v(" "),t("li",[t("strong",[v._v("性能瓶颈突破")]),v._v(" "),t("ul",[t("li",[t("strong",[v._v("红黑树")]),v._v("：快速查找和插入（对比 select/poll 的线性结构）。")]),v._v(" "),t("li",[t("strong",[v._v("事件驱动")]),v._v("：避免轮询，仅处理活跃事件 。")])])])]),v._v(" "),t("p",[t("strong",[v._v("六、典型应用场景")])]),v._v(" "),t("ol",[t("li",[v._v("select/poll：旧系统兼容、FD 数量少（如嵌入式设备）。")]),v._v(" "),t("li",[v._v("epoll：\n"),t("ul",[t("li",[v._v("Nginx（高并发连接）、Redis（高性能事件驱动）。")]),v._v(" "),t("li",[v._v("实时通信系统（如 WebSocket 服务器）。")])])])]),v._v(" "),t("p",[v._v("通过以上设计差异，epoll 成为 Linux 高并发网络编程的核心工具，而 select/poll 因历史兼容性仍存在于特定场景中。")]),v._v(" "),t("h3",{attrs:{id:"情景模拟题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#情景模拟题"}},[v._v("#")]),v._v(" "),t("strong",[v._v("情景模拟题")])]),v._v(" "),t("p",[t("strong",[v._v("场景")]),v._v("：服务器响应缓慢，SSH 连接困难，请描述排查思路")]),v._v(" "),t("p",[t("strong",[v._v("排查步骤")]),v._v("：")]),v._v(" "),t("ol",[t("li",[v._v("快速登陆后使用 "),t("code",[v._v("w")]),v._v(" 查看系统负载")]),v._v(" "),t("li",[t("code",[v._v("dmesg -T | tail")]),v._v(" 检查硬件/驱动错误")]),v._v(" "),t("li",[t("code",[v._v("vmstat 1")]),v._v(" 查看 CPU、内存、IO 综合情况")]),v._v(" "),t("li",[t("code",[v._v("iostat -x 1")]),v._v(" 定位磁盘瓶颈")]),v._v(" "),t("li",[t("code",[v._v("sar -n DEV 1")]),v._v(" 分析网络流量")]),v._v(" "),t("li",[t("code",[v._v("pidstat -d 1")]),v._v(" 找到高 IO 进程")]),v._v(" "),t("li",[t("code",[v._v("strace -p [PID]")]),v._v(" 跟踪进程系统调用")]),v._v(" "),t("li",[v._v("结合业务日志分析异常请求")])])])}),[],!1,null,null,null);_.default=a.exports}}]);